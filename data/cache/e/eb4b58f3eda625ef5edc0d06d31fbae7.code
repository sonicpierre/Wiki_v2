X_final <span class="sy0">&lt;</span>- data.<span class="me1">frame</span><span class="br0">&#40;</span>outliers_pred<span class="br0">&#41;</span><span class="co1">#On récupère les données prédites sous forme de data frame</span>
X_final <span class="sy0">&lt;</span>- X_final<span class="br0">&#91;</span><span class="kw1">with</span><span class="br0">&#40;</span>X_final<span class="sy0">,</span> order<span class="br0">&#40;</span><span class="kw2">id</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">,</span><span class="br0">&#93;</span><span class="co1">#Puis on le tri en fonction de leur id, de façon à avoir la correspondance avec les données de X</span>
X <span class="sy0">&lt;</span>- cbind<span class="br0">&#40;</span>X<span class="sy0">,</span> X_final$anomaly_score<span class="br0">&#41;</span><span class="co1">#Jointure du dataframe original avec la colonne d'anomalie</span>
X <span class="sy0">&lt;</span>- subset<span class="br0">&#40;</span>X<span class="sy0">,</span> X_final$anomaly_score <span class="sy0">&lt;=</span> <span class="nu0">0.57</span><span class="br0">&#41;</span><span class="co1">#On ne conserve que les éléments ayant moins de 0.57 de score d'anomalie</span>
X <span class="sy0">&lt;</span>- <span class="kw3">select</span><span class="br0">&#40;</span>X<span class="sy0">,</span> -`X_final$anomaly_score`<span class="br0">&#41;</span><span class="co1">#On supprime la colonne des scores d'anomalie qui est inutile</span>